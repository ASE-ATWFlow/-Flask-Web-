# <center> Identity Map

&emsp;&emsp;标识映射 是Python对象与数据库identities的映射。
它是一个与ORM session对象相关联的集合，维护了其身份相关的每个数据库对象的单个实例。这种模式的优点是针对特定数据库身份发生的所有操作都明晰地协调到单个对象实例上。在将标识映射与隔离事务结合使用时，从实际的角度来看，可以将对已知具有特定主键的对象的引用视为实际数据库行的代理。

------------------------------------------

通过将每个加载的对象保存在映射中，来保证每个对象仅加载一次。  
当引用对象时，使用映射查询对象。

![alt id映射图](idMapperSketch.gif)

与此相关的是一个明显的性能问题。如果我们多次加载相同的数据，则会在远程调用中产生昂贵的成本。因此，不重复加载相同的数据不仅有助于正确性，而且还可以提升我们应用程序的性能。

身份映射记录了在单个业务事务中从数据库中读取的所有对象。每当您想要一个对象时，我们首先检查身份映射以查看它是否已经存在。  

引用自 *[martinFowler.com](https://martinfowler.com/eaaCatalog/identityMap.html)*